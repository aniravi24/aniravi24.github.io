<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" data-next-head=""/><link rel="preload" href="/fonts/Inter-roman.latin.var.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-head=""/><title data-next-head="">Your database is all you are</title><meta name="description" content="Get serious about your data" data-next-head=""/><meta name="keywords" content="PostgreSQL, Databases" data-next-head=""/><meta name="author" content="Ani Ravi" data-next-head=""/><meta property="og:site_name" content="Your database is all you are" data-next-head=""/><meta property="og:description" content="Get serious about your data" data-next-head=""/><meta property="og:title" content="Your database is all you are" data-next-head=""/><meta name="robots" content="follow, index"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="preload" href="/_next/static/css/e8deaf54bf4de72d.css" as="style"/><style data-next-head="">:root{--nextra-bg:250,250,250;}.dark{--nextra-bg:17,17,17;}</style><link rel="stylesheet" href="/_next/static/css/e8deaf54bf4de72d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-a29e7d72fb681161.js" defer=""></script><script src="/_next/static/chunks/main-d16e9e3a6d833aae.js" defer=""></script><script src="/_next/static/chunks/pages/_app-472621e085237a17.js" defer=""></script><script src="/_next/static/chunks/686-ed819063da51b979.js" defer=""></script><script src="/_next/static/chunks/pages/posts/your-database-is-all-your-are-7164d2a8a5cb6886.js" defer=""></script><script src="/_next/static/zk1JC2tPwV7-RsCwrSiLv/_buildManifest.js" defer=""></script><script src="/_next/static/zk1JC2tPwV7-RsCwrSiLv/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>((e,t,r,n,a,o,i,s)=>{let l=document.documentElement,u=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(l.classList.remove(...n),l.classList.add(t)):l.setAttribute(e,t)}),s&&u.includes(t)&&(l.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><article class="_container _prose max-md:_prose-sm dark:_prose-invert" dir="ltr"><h1>Your database is all you are</h1><div class="_mb-8 _flex _gap-3 _items-center"><div class="_not-prose _grow dark:_text-gray-400 _text-gray-600"><div class="_flex _flex-wrap _items-center _gap-1">Ani Ravi<!-- -->,<time dateTime="2021-03-21T00:00:00.000Z">Mar 21, 2021</time><span class="_px-1">•</span><a class="
          _select-none
          _rounded-md
          _bg-gray-200
          _px-1
          _text-sm
          _text-gray-400
          _transition-colors
          hover:_bg-gray-300
          hover:_text-gray-500
          dark:_bg-gray-600
          dark:_text-gray-300
          dark:hover:_bg-gray-700
          dark:hover:_text-gray-200
        " href="/tags/PostgreSQL">PostgreSQL</a><a class="
          _select-none
          _rounded-md
          _bg-gray-200
          _px-1
          _text-sm
          _text-gray-400
          _transition-colors
          hover:_bg-gray-300
          hover:_text-gray-500
          dark:_bg-gray-600
          dark:_text-gray-300
          dark:hover:_bg-gray-700
          dark:hover:_text-gray-200
        " href="/tags/Databases">Databases</a></div></div><div class="_flex _items-center _gap-3 print:_hidden"><a href="/posts">Back</a><span role="button" aria-label="Toggle Dark Mode" class="_cursor-pointer _p-2 _text-current" tabindex="0"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span></div></div><p>I’ve noticed a misguided approach in the broad web development ecosystem where programmers learn how to build real web applications while simultaneously ignoring the database almost entirely. While NoSQL databases have their uses, this is often how they are misconstrued when beginners learn web dev (I fell into this trap too, a few years ago). SQL databases are thought of as “too rigid”, or “too structured”, and you are told that you need some kind of tool that “hides away the complexity” so you don’t have to think about the database at all and just build your app.</p>
<p><em>This is a horrendously bad idea.</em></p>
<p>Data is the lifeblood of your application. Everything you are as a project/company, everything you will be, is all encoded in that data you are storing, typically in your database or a third-party service you’re using. “Schemaless” databases for most new applications, especially ones where you only have one database and it is the primary one, is an outright mistake. If your data has no schema, why are you building anything in the first place? Data always has a schema — you only choose whether to make it implicit or explicit — when building most products, making it explicit makes a lot more sense. A lot of data tends to share some kind of relationship with other data. The best widespread tool we have to solve that problem is a relational database, like PostgreSQL.</p>
<p>Don’t ignore the data and think that you can come back to it later. Your project/company is nearly worthless without that data in the database. Know what the data is and explicitly define the structure so you can manage its complexity. If you don’t know what something is or can’t define it, you can’t reason about it in your code. It’s why you see most projects that use MongoDB use something like <a href="https://mongoosejs.com/" target="_blank" rel="noreferrer">Mongoose</a>. Cause guess what? It turns out that even if your database enforces close to nothing, you as the developer need to care about what data is being stored and the shape in which it is being stored. Mongoose attempts to put a lackluster SQL-like layer on top of a “schemaless” database. What happens if the structure of your data changes? Then, you have to write a migration. When you have a database that enforces constraints and structure, writing migrations are much easier because it’s harder to make mistakes. When you have no structure and no constraints, you can run migrations in production that are halfway broken without even realizing they are wrong, wondering why your application suddenly stopped working.</p>
<p>Data is a set of facts. You can’t fix bad data that was inserted wrong in the first place, because you don’t know what the proper data was supposed to be. Don’t get your facts wrong, and use a tool that gives you the power necessary to define your facts.</p><div class="my-4 border-t-2 mx-auto flex items-center sm:flex-row flex-col"><p class="text-sm text-gray-500">Ani Ravi</p></div></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/posts/your-database-is-all-your-are","query":{},"buildId":"zk1JC2tPwV7-RsCwrSiLv","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>