<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"/><link rel="preload" href="/fonts/Inter-roman.latin.var.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><title>Learning GraphQL through PostGraphile</title><meta name="next-head-count" content="5"/><meta name="robots" content="follow, index"/><meta name="description" content="Ani Ravi&#x27;s personal website."/><meta property="og:site_name" content="Ani Ravi"/><meta property="og:description" content="Ani Ravi&#x27;s personal website."/><meta property="og:title" content="Ani Ravi"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="preload" href="/_next/static/css/67768b1f0295e4f5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/67768b1f0295e4f5.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-87b3a303122f2f0d.js" defer=""></script><script src="/_next/static/chunks/framework-0cbe3b56a5f66701.js" defer=""></script><script src="/_next/static/chunks/main-55b61362f7eceb9d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-01a67a4606c8988d.js" defer=""></script><script src="/_next/static/chunks/259-6617277918a5d923.js" defer=""></script><script src="/_next/static/chunks/pages/posts/learning-graphql-through-postgraphile-d2b8b0f0fe13f916.js" defer=""></script><script src="/_next/static/PsbQVRZ25JD9CGAkbTfAQ/_buildManifest.js" defer=""></script><script src="/_next/static/PsbQVRZ25JD9CGAkbTfAQ/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><article class="nx-container nx-prose max-md:nx-prose-sm dark:nx-prose-dark" dir="ltr"><h1>Learning GraphQL through PostGraphile</h1><div class="nx-mb-8 nx-flex nx-gap-3 nx-items-center"><div class="nx-grow dark:nx-text-gray-400 nx-text-gray-600"><div class="nx-not-prose nx-flex nx-flex-wrap nx-items-center nx-gap-1">Ani Ravi<!-- -->,<time dateTime="2020-08-12T00:00:00.000Z">Aug 12, 2020</time><span class="nx-px-1">•</span><a class="
          nx-select-none
          nx-rounded-md
          nx-bg-gray-200
          nx-px-1
          nx-text-sm
          nx-text-gray-400
          nx-transition-colors
          hover:nx-bg-gray-300
          hover:nx-text-gray-500
          dark:nx-bg-gray-600
          dark:nx-text-gray-300
          dark:hover:nx-bg-gray-700
          dark:hover:nx-text-gray-200
        " href="/tags/GraphQL">GraphQL</a><a class="
          nx-select-none
          nx-rounded-md
          nx-bg-gray-200
          nx-px-1
          nx-text-sm
          nx-text-gray-400
          nx-transition-colors
          hover:nx-bg-gray-300
          hover:nx-text-gray-500
          dark:nx-bg-gray-600
          dark:nx-text-gray-300
          dark:hover:nx-bg-gray-700
          dark:hover:nx-text-gray-200
        " href="/tags/PostGraphile">PostGraphile</a></div></div><div class="nx-flex nx-items-center nx-gap-3 print:nx-hidden"><a href="/posts">Back</a><span role="button" aria-label="Toggle Dark Mode" class="nx-cursor-pointer nx-p-2 nx-text-current" tabindex="0"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span></div></div><p><em>This post will not walk through how to do anything in particular — it’s not a tutorial. It goes through what I learned and points to tools and documentation I used to get started — which might be a good starting point for others.</em></p>
<p>I recently wanted to take a jump into learning GraphQL, so I sped through <a href="https://courses.edx.org/courses/course-v1:LinuxFoundationX+LFS141x+3T2019/course/" target="_blank" rel="noreferrer">this<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> course (way shorter than it looks). For some reason, I had this mental barrier thinking GraphQL was more complicated than REST, but the fundamentals are actually quite simple. The way this course framed GraphQL made it easy to understand.</p>
<p>I knew some friends that had used and spoke highly of <a href="https://www.graphile.org/postgraphile/introduction/" target="_blank" rel="noreferrer">PostGraphile<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>, a tool written in TypeScript that reads your PostgreSQL database schema and generates a GraphQL API on top of it. I went through all of the documentation and ended up learning a lot more about database design in the process. In effect, by learning PostGraphile and actually trying to build an initial project with it, I learned about GraphQL and more about Postgres. It was awesome to double dip and become more familiar with some of the many powerful features Postgres has.</p>
<p>PostGraphile forces you to think of the database as your application. Another way to do put it is that you’re doing database-driven-design. Now you might be wondering, how do you actually get work done (e.g. send emails)? One awesome tool the same folks have built is called <a href="https://github.com/graphile/worker" target="_blank" rel="noreferrer">worker<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>. This allows you to use your database as a job queue, that your javascript code can pull jobs from and do work. Additionally, if you check out the PostGraphile documentation, there are easy ways to extend your GraphQL schema so you can add your own queries and mutations, similar to how you might do it if you had to write your own schemas and resolvers. You can use <a href="https://github.com/graphile/migrate" target="_blank" rel="noreferrer">migrate<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> to write your SQL migrations. Migrate simply has you write SQL files and the migrations run quickly.</p>
<p>Something to note is that if you run primarily on PostGraphile, you will likely end up using Node.JS (or any compile-to-JS language, e.g. ReasonML) for anything related to PostGraphile or its workers due to the tools being written in TypeScript. Extending PostGraphile easily with plugins requires JS code in your codebase.</p>
<p>I’m not sure if people would typically recommend learning GraphQL through a tool like this, but I found it great to get started. Anything that runs through PostGraphile’s autogenerated schema (not necessarily custom stuff you’ve written) also avoids N+1 query problems, as your GraphQL query is parsed into a SQL query prior to running against your database, keeping things performant. I saved a ton of time building with PostGraphile, and you get lots of interesting benefits doing things through DB-driven design. You could build say, a user-facing API and admin API largely just by setting database permissions per table, without having to write entire APIs or dealing with security for it separately. You can build a lot more a lot faster, especially as you aren’t spending time in your REST APIs thinking specifically about what query you need to write to get certain data. You spend a lot more time in the database, but less time overall.</p>
<p>After giving PostGraphile a try, if you use Node.JS or are willing to have part of your project in it, I would highly recommend PostGraphile!</p><div class="my-4 border-t-2 mx-auto flex items-center sm:flex-row flex-col"><p class="text-sm text-gray-500">Ani Ravi</p></div></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/posts/learning-graphql-through-postgraphile","query":{},"buildId":"PsbQVRZ25JD9CGAkbTfAQ","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>