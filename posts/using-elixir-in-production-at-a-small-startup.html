<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"/><link rel="preload" href="/fonts/Inter-roman.latin.var.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><title>Some Reflections on using Elixir in Production at a Small Startup</title><meta name="next-head-count" content="5"/><meta name="robots" content="follow, index"/><meta name="description" content="Ani Ravi&#x27;s personal website."/><meta property="og:site_name" content="Ani Ravi"/><meta property="og:description" content="Ani Ravi&#x27;s personal website."/><meta property="og:title" content="Ani Ravi"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicon-48.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><link rel="preload" href="/_next/static/css/13c56cb192c5e068.css" as="style"/><link rel="stylesheet" href="/_next/static/css/13c56cb192c5e068.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-87b3a303122f2f0d.js" defer=""></script><script src="/_next/static/chunks/framework-0cbe3b56a5f66701.js" defer=""></script><script src="/_next/static/chunks/main-1a16b17662363af8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6a30b64a025695dd.js" defer=""></script><script src="/_next/static/chunks/838-c29410401fb9d6b4.js" defer=""></script><script src="/_next/static/chunks/pages/posts/using-elixir-in-production-at-a-small-startup-343e0705440d6951.js" defer=""></script><script src="/_next/static/JGQww0TkalhPzmeStnjbH/_buildManifest.js" defer=""></script><script src="/_next/static/JGQww0TkalhPzmeStnjbH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><article class="nx-container nx-prose max-md:nx-prose-sm dark:nx-prose-dark" dir="ltr"><h1>Some Reflections on using Elixir in Production at a Small Startup</h1><div class="nx-mb-8 nx-flex nx-gap-3 nx-items-center"><div class="nx-grow dark:nx-text-gray-400 nx-text-gray-600"><div class="nx-not-prose nx-flex nx-flex-wrap nx-items-center nx-gap-1">Ani Ravi<!-- -->,<time dateTime="2022-03-11T00:00:00.000Z">Mar 11, 2022</time><span class="nx-px-1">â€¢</span><a class="
          nx-select-none
          nx-rounded-md
          nx-bg-gray-200
          nx-px-1
          nx-text-sm
          nx-text-gray-400
          nx-transition-colors
          hover:nx-bg-gray-300
          hover:nx-text-gray-500
          dark:nx-bg-gray-600
          dark:nx-text-gray-300
          dark:hover:nx-bg-gray-700
          dark:hover:nx-text-gray-200
        " href="/tags/Elixir">Elixir</a><a class="
          nx-select-none
          nx-rounded-md
          nx-bg-gray-200
          nx-px-1
          nx-text-sm
          nx-text-gray-400
          nx-transition-colors
          hover:nx-bg-gray-300
          hover:nx-text-gray-500
          dark:nx-bg-gray-600
          dark:nx-text-gray-300
          dark:hover:nx-bg-gray-700
          dark:hover:nx-text-gray-200
        " href="/tags/Programming%20Languages">Programming Languages</a></div></div><div class="nx-flex nx-items-center nx-gap-3 print:nx-hidden"><a href="/posts">Back</a><span role="button" aria-label="Toggle Dark Mode" class="nx-cursor-pointer nx-p-2 nx-text-current" tabindex="0"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span></div></div><p>If you&#x27;ve read my previous blog posts, you know that I&#x27;m generally biased toward languages that have strong static analysis tools, so less stuff gets put in production that isn&#x27;t verified by a compiler. However, it&#x27;s almost inevitable in your programming journey nowadays that you will work in some language with almost no static analysis tooling, at least at most young companies. As much as I love tools that can make programming more sane, it&#x27;s also the case that programming tools still have a lot of room for improvement, to help aid programmers rather than needing to spend too much time type-wrangling or dealing with unclear errors. I&#x27;ve been using Elixir for some time now, and used to have a more negative opinion of it starting out, primarily because dealing with constant runtime errors was super annoying (still is) and it felt slow to build new features when having to keep all the information in my head. While there are some shortcomings in terms of things I like having in a language, some of Elixir&#x27;s tools are great.</p>
<p>Most people often talk about how networking tooling in Elixir is awesome, since communicating between processes and external servers is basically &quot;built-in&quot;, so network clustering in Elixir (especially for building things like chat apps) is much simpler than in other languages. However, I think Elixir&#x27;s &quot;killer app&quot; is <a href="https://github.com/elixir-ecto/ecto" target="_blank" rel="noreferrer">Ecto<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>, Elixir&#x27;s database access library, primarily used with PostgreSQL. Ecto is pretty powerful, relies heavily on macros, and makes composing SQL (especially dynamic queries where you chain query fragments together in different situations) really easy. We make use of these aspects of Ecto heavily in production. As much as I love statically-typed languages, I don&#x27;t know how to make SQL as fluid, maintainable, and as easy-to-use as Ecto does in Elixir. It&#x27;s actually one of the biggest reasons why we haven&#x27;t seriously looked at any other backend languages for our Elixir codebase - Ecto is just that much easier to use and makes writing new features that much faster (if anyone knows how I can get composable queries, reusable query fragments, helpers to write things like joins, and raw SQL-level performance from a language like Haskell or Rust, please let me know)!</p>
<p>Ecto combined with <a href="https://github.com/absinthe-graphql/absinthe" target="_blank" rel="noreferrer">Absinthe<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> (Elixir&#x27;s premier GraphQL server library) is a really good combination to get you started - it reduces the amount of code you have to write significantly for doing data access and the performance is good enough. Ecto schemas maintain the associations between different tables, and Absinthe + Ecto can figure out how to query a good amount of data simply by using dataloader and not having to handwrite a lot of joins or other queries. Many of Elixir&#x27;s most popular libraries make use of macros and DSLs to express ideas in non-standard Elixir syntax (like the two aforementioned libraries), and while it may make things a little harder to understand at the beginning of your journey with Elixir, every engineer I&#x27;ve worked with figures it out quickly.</p>
<p>Elixir is still growing but still a fairly young ecosystem, and so there&#x27;s ever more <a href="https://github.com/h4cc/awesome-elixir" target="_blank" rel="noreferrer">tools/libraries<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> being developed. It has just enough of the tracing, logging, API, security, DB, and websocket tooling that you need to build a serious app in production. It also has some insane features like being able to directly call or run your production code, and hot code reloading modules in your production process.</p>
<p>Every set of tools comes with tradeoffs, and different tradeoffs will affect you in different ways at different stages of your product. It&#x27;s worthwhile to have periods of reflection to re-evaluate whether you&#x27;re using the best tools available to you to solve the problems ahead, and thinking through how much effort it would take to change tools if needed. Elixir is mostly a simple language to learn, and can get you started fairly quickly if that&#x27;s what you&#x27;re looking for. It&#x27;s also a decent gateway into some functional programming ideas, but if you&#x27;re looking for tooling that dives headfirst into FP ideas, I would look at other languages instead. I&#x27;m not sure when or if Elixir&#x27;s usage will dwindle for our product in favor of other tools, but for now, it&#x27;s taken us quite far!</p><div class="my-4 border-t-2 mx-auto flex items-center sm:flex-row flex-col"><p class="text-sm text-gray-500">Ani Ravi</p></div></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/posts/using-elixir-in-production-at-a-small-startup","query":{},"buildId":"JGQww0TkalhPzmeStnjbH","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>